
<h2>Reactive: Dynamic</h2>

<hr>

<form [formGroup]='myForm' (ngSubmit)='save()'>
    <div class="mb-3 row">
        <label for="" class="col-sm-3">Name</label>
        <div class="col-sm-9">
                <input type="text" class="form-control" placeholder="Name" 
                    name='name'
                    formControlName='name'
                >
                <label for="" class="text-danger"
                    *ngIf="isValid('name')"
                    >
                    *Name is required</label>
            
        </div>
    </div>

    <div class="mb-3 row">
        <label for="" class="col-sm-3">Add</label>
        <div class="col-sm-9">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Add favorite"
                    [formControl]='newFavorite'
                    name="newGame2"
                    (keyup.enter)='addFavorite()'
                    >
                    <button class="btn btn-outline-primary" type="submit" (click)='addFavorite()' 
                    >
                    Add
                </button>                
            </div>
        </div>
    </div>

    <div class="mb-3 row">
            <label for="" class="col-sm-3">Favorites games</label>
            <div class="col-sm-9" formArrayName='favorites'>
                    <div class="input-group mb-1"  
                        *ngFor="let item of favoritesArr.controls; let i=index"
                    >
                        <input 
                            type="text" class="form-control"
                            [formControlName]="i"
                        >
                        <button class="btn btn-outline-danger" 
                            type="button" 
                            (click)="delete(i)"
                        > 
                            Delete</button>                
                            <!-- > -->
                    </div> 
            </div>
        </div>


    <div class="row">
            <div class="col-sm-12">
                <button type="button" class="btn btn-primary float-end" (click)="save()"
                >
                <!-- (click)="a=1" -->
                    Save
                </button>
                
            </div>
        </div>
</form>

<!-- 
<span>
    Person
</span>
<pre>{{person|json}}</pre> -->


<span>Valid</span>
<pre>{{myForm.valid}}</pre>
<span>Value</span>
<pre>{{myForm.value| json}}</pre>

<span>Add game</span>
<pre>{{newFavorite.valid| json}}</pre>

<span>Game</span>
<pre>{{newFavorite.value| json}}</pre>

<span>touched</span>
<pre>{{myForm.touched}}</pre>